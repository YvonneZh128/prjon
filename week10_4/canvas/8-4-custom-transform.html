<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>custom transform</title>
</head>
<body>
    <canvas id="myCanvas" width="578" height="200"></canvas>
    <script>
      var canvas = document.getElementById('myCanvas');
      var context = canvas.getContext('2d');

      var rectWidth = 150
      var rectHeight = 75

      // transform matrix
      // a c e
      // b d f
      // 0 0 1

      // 平移
      // 1 0 x
      // 0 1 y
      // 0 0 1

      // 缩放
      // x 0 0
      // 0 y 0
      // 0 0 1

      // 旋转
      // cos(x) -sin(x) 0
      // sin(x) cos(x)  0
      // 0      0       1

      // 变形
      // 1      tan(y) 0
      // tan(x) 1      0
      // 0      0      1

      var rectWidth = 150
      var rectHeight = 75

      var x = canvas.width / 2
      var y = canvas.height / 2

      context.transform(1, 0, 0, 1, x, y)

      // context.rotate(Math.PI/4)
      context.transform(Math.cos(Math.PI/4), Math.sin(Math.PI/4), -Math.sin(Math.PI/4), Math.cos(Math.PI/4), 0, 0)

      // context.transform(2, 0, 0, 2, 0, 0)

      context.fillStyle = 'blue'
      context.fillRect(rectWidth / -2, rectHeight / -2, rectWidth, rectHeight)
    </script>
</body>
</html>
